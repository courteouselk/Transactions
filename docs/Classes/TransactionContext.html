<!DOCTYPE html>
<html lang="en">
  <head>
    <title>TransactionContext Class Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset='utf-8'>
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a name="//apple_ref/swift/Class/TransactionContext" class="dashAnchor"></a>
    <a title="TransactionContext Class Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="../index.html">Transactions Docs</a></p>
        <p class="header-right"><a href="https://github.com/courteouselk/Transactions"><img src="../img/gh.png"/>View on GitHub</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="../index.html">Transactions Reference</a>
        <img id="carat" src="../img/carat.png" />
        TransactionContext Class Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Classes/TransactionContext.html">TransactionContext</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Enums.html">Enums</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Enums/TransactionError.html">TransactionError</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Protocols/Transactable.html">Transactable</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Structs.html">Structs</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Structs/Transaction.html">Transaction</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            <h1>TransactionContext</h1>
              <div class="declaration">
                <div class="language">
                  <pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="kt">TransactionContext</span></code></pre>

                </div>
              </div>
            <p>Helper class for transaction context management.</p>

<p>An instanse of <code>TransactionContext</code> should be owned by each individual <code><a href="../Protocols/Transactable.html">Transactable</a></code>.  There 
are two kind of transaction contexts, root and node.  The root instance stands at the root of
the contexts tree structure and is typically owned by the top-level container of the
transactables hierarchy.  All other transactables own a context node that can have one parent 
node and multiple child nodes.</p>

<p>Any transaction status change (begin/commit/rollback) requested on a context node is dispatched 
to the root of the tree, from where the requested action is propagated throughout the whole 
hierarchy of contexts.</p>

          </section>
          <section class="section task-group-section">
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Transaction%20state"></a>
                <a name="//apple_ref/swift/Section/Transaction state" class="dashAnchor"></a>
                <a href="#/Transaction%20state">
                  <h3 class="section-name">Transaction state</h3>
                </a>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:vC12Transactions18TransactionContext8isActiveSb"></a>
                    <a name="//apple_ref/swift/Property/isActive" class="dashAnchor"></a>
                    <a class="token" href="#/s:vC12Transactions18TransactionContext8isActiveSb">isActive</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Indicates whether the transaction is currently active.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">final</span> <span class="kd">public</span> <span class="k">var</span> <span class="nv">isActive</span><span class="p">:</span> <span class="kt">Bool</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:vC12Transactions18TransactionContext11transactionGSqVS_11Transaction_"></a>
                    <a name="//apple_ref/swift/Property/transaction" class="dashAnchor"></a>
                    <a class="token" href="#/s:vC12Transactions18TransactionContext11transactionGSqVS_11Transaction_">transaction</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Currently active transaction.</p>

<p>If no transaction is active the value is <code>nil</code>.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">transaction</span><span class="p">:</span> <span class="kt"><a href="../Structs/Transaction.html">Transaction</a></span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Initialization"></a>
                <a name="//apple_ref/swift/Section/Initialization" class="dashAnchor"></a>
                <a href="#/Initialization">
                  <h3 class="section-name">Initialization</h3>
                </a>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:ZFC12Transactions18TransactionContext10createRootFT5ownerPS_12Transactable__S0_"></a>
                    <a name="//apple_ref/swift/Method/createRoot(owner:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:ZFC12Transactions18TransactionContext10createRootFT5ownerPS_12Transactable__S0_">createRoot(owner:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Creates a transaction-context root.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">final</span> <span class="kd">public</span> <span class="kd">class</span> <span class="kd">func</span> <span class="nf">createRoot</span><span class="p">(</span><span class="nv">owner</span><span class="p">:</span> <span class="kt"><a href="../Protocols/Transactable.html">Transactable</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">TransactionContext</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>owner</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p><code>Transactable</code> instance that will own the context root.</p>

                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:ZFC12Transactions18TransactionContext10createNodeFT5ownerPS_12Transactable_6parentPS1___S0_"></a>
                    <a name="//apple_ref/swift/Method/createNode(owner:parent:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:ZFC12Transactions18TransactionContext10createNodeFT5ownerPS_12Transactable_6parentPS1___S0_">createNode(owner:parent:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Creates a transaction-context node.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">final</span> <span class="kd">public</span> <span class="kd">class</span> <span class="kd">func</span> <span class="nf">createNode</span><span class="p">(</span><span class="nv">owner</span><span class="p">:</span> <span class="kt"><a href="../Protocols/Transactable.html">Transactable</a></span><span class="p">,</span> <span class="nv">parent</span><span class="p">:</span> <span class="kt"><a href="../Protocols/Transactable.html">Transactable</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">TransactionContext</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>owner</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p><code>Transactable</code> instance that will own the context node.</p>

                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>parent</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>An instance of <code>Transactable</code> object whose transaction context will be a parent of the created one.</p>

                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Transaction%20state%20management"></a>
                <a name="//apple_ref/swift/Section/Transaction state management" class="dashAnchor"></a>
                <a href="#/Transaction%20state%20management">
                  <h3 class="section-name">Transaction state management</h3>
                </a>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:FC12Transactions18TransactionContext16beginTransactionFzT_VS_11Transaction"></a>
                    <a name="//apple_ref/swift/Method/beginTransaction()" class="dashAnchor"></a>
                    <a class="token" href="#/s:FC12Transactions18TransactionContext16beginTransactionFzT_VS_11Transaction">beginTransaction()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Begin a new transaction.</p>

<div class="aside aside-throws">
    <p class="aside-title">Throws</p>
    <p>Can throw an instance of <code><a href="../Enums/TransactionError.html">TransactionError</a></code> (e.g. if another transaction is 
      already active).</p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">@discardableResult</span> <span class="kd">public</span> <span class="kd">func</span> <span class="nf">beginTransaction</span><span class="p">()</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Structs/Transaction.html">Transaction</a></span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>The descriptor for a newly started transaction.</p>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:FC12Transactions18TransactionContext17commitTransactionFzVS_11TransactionT_"></a>
                    <a name="//apple_ref/swift/Method/commitTransaction(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:FC12Transactions18TransactionContext17commitTransactionFzVS_11TransactionT_">commitTransaction(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Commit the transaction.</p>

<div class="aside aside-throws">
    <p class="aside-title">Throws</p>
    <p>Can throw an instance of <code><a href="../Enums/TransactionError.html">TransactionError</a></code> (e.g. if no transaction is actually
      active) or whatever <code>Error</code> returned by one of the transactable 
      <code>.hasCommittabilityError()</code> methods.</p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">commitTransaction</span><span class="p">(</span><span class="n">_</span> <span class="nv">transaction</span><span class="p">:</span> <span class="kt"><a href="../Structs/Transaction.html">Transaction</a></span> <span class="o">=</span> <span class="kt"><a href="../Structs/Transaction.html">Transaction</a></span><span class="o">.</span><span class="n">any</span><span class="p">)</span> <span class="k">throws</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>transaction</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The descriptor of the transaction to commit.  If this parameter is not omitted then the context will check whether it matches to the actually active one.  If they do not match, an error is thrown.</p>

                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:FC12Transactions18TransactionContext19rollbackTransactionFzVS_11TransactionT_"></a>
                    <a name="//apple_ref/swift/Method/rollbackTransaction(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:FC12Transactions18TransactionContext19rollbackTransactionFzVS_11TransactionT_">rollbackTransaction(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Rollback the transaction.</p>

<div class="aside aside-throws">
    <p class="aside-title">Throws</p>
    <p>Can throw an instance of <code><a href="../Enums/TransactionError.html">TransactionError</a></code> (e.g. if no transaction is actually
      active).</p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">rollbackTransaction</span><span class="p">(</span><span class="n">_</span> <span class="nv">transaction</span><span class="p">:</span> <span class="kt"><a href="../Structs/Transaction.html">Transaction</a></span> <span class="o">=</span> <span class="kt"><a href="../Structs/Transaction.html">Transaction</a></span><span class="o">.</span><span class="n">any</span><span class="p">)</span> <span class="k">throws</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>transaction</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The descriptor of the transaction to rollback.  If this parameter is not omitted then the context will check whether it matches to the actually active one.  If they do not match, an error is thrown.</p>

                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </section>
        </section>
        <section id="footer">
          <p>&copy; 2017 <a class="link" href="" target="_blank" rel="external">Anton Bronnikov</a>. All rights reserved. (Last updated: 2017-04-06)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.7.5</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
